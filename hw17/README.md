# Docker

## Homework
1. Создайте свой кастомный образ nginx на базе alpine. После запуска nginx должен отдавать кастомную страницу (достаточно изменить дефолтную страницу nginx)
1. Определите разницу между контейнером и образом. Вывод опишите в домашнем задании.
1. Ответьте на вопрос: Можно ли в контейнере собрать ядро?
1. Собранный образ необходимо запушить в docker hub и дать ссылку на ваш репозиторий.
1. Создайте кастомные образы nginx и php, объедините их в docker-compose.
1. После запуска nginx должен показывать php info.
1. Все собранные образы должны быть в docker hub.

## Solution
### Theory
1. Определите разницу между контейнером и образом. Вывод опишите в домашнем задании.
    * Самое простое обяснение для человека понимающего виртуализацию: образ это аналог образа виртуальной машины. Контейнер это запущенный (или остановленный) экземпляр этого образа. Стоит добавить что при запуске контейнера добавляется новый слой (layer) файловой системы, который имеет RW доступ. Остальные слои образа монтируются readonly и при изменение каких-либо файлов из них происходит copy-on-write в слой контейнера.
1. Ответьте на вопрос: Можно ли в контейнере собрать ядро?
    * Собрать ядро можно, загрузиться с него нельзя. [Пример сборки ядра в докере](https://github.com/moul/docker-kernel-builder)

### Practise
1. Check nginx image with alpine
    ```bash
    docker run -d -p 8000:80 muryginm/nginx-alpine
    curl localhost:8000
    ```

1. Check nginx-php
    ```bash
    cd nginx-php
    docker-compose up
    curl localhost:8080
    ```

